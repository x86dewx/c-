#include"framebuffer.h"
#include<head.h>
#define red 0x00ff0000
#define black 0x00000000
#define white 0xffffffff

int fdd;

void handle(int signo)
{
    uninitfd(fdd);
    kill(getpid(),9);
}


int main(int argc, char *argv[])
{
    signal(2,handle);

	UTF8_INFO utf8_info;
    bzero(&utf8_info, sizeof(UTF8_INFO));
    strcpy(utf8_info.path, ZIKUK_FILE_BIG);
    utf8_info.width = 32;
    utf8_info.height = 32;
    init_utf8(&utf8_info);  //初始化utf8库


    int fd = init_fb("/dev/fb0");
    if(fd < 0)
    {
        return -1;
    }
    fdd = fd;
    clear(white);
    drow_horizontal_line(200,300,400,red);
    drow_vertical_line(400,150,300,red);
    drow_squre(250,150,300,300,red);
    drow_oblique(400,300,300,1,red);
    drow_oblique(400,300,300,-1,red);
    drow_oblique(100,600,300,-1,red);
    drow_oblique(100,0,300,1,red);
    drow_circle(400,300,300,red);
my_progream:
    clear(black);
    drow_picture(0,0,"./nahida.bmp",600,600);
    sleep(2);
 //   clear(black);
#if 0
    unsigned char word3[]={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
        0x00,0x01,0xFF,0x00,0x00,0x0F,0xFF,0xFF,0x80,0x3F,0xFF,0xFF,0x00,0x00,0x1F,0xF3,
        0x18,0x00,0x00,0x00,0x03,0x18,0x00,0x00,0x00,0x03,0x18,0x00,0x00,0x00,0x03,0x18,
        0x00,0x00,0x00,0x03,0x18,0x18,0x00,0x03,0x03,0x1F,0xFC,0x00,0x03,0xFF,0xFF,0xFC,
        0x00,0x03,0xFF,0xF8,0x38,0x00,0x01,0x83,0x18,0x38,0x00,0x01,0x87,0x18,0x38,0x00,
        0x01,0x87,0x18,0x38,0x00,0x01,0x87,0x18,0x38,0x00,0x01,0x87,0x18,0x38,0x00,0x01,
        0x86,0x18,0x38,0x00,0x01,0xCE,0x18,0x38,0x00,0x01,0xCE,0x1F,0xF0,0x00,0x01,0xDC,
        0x1F,0xF0,0x00,0x01,0xD8,0x00,0x70,0x00,0x01,0xF8,0x00,0x70,0x00,0x01,0xF0,0x00,
        0x70,0x00,0x01,0xC0,0x00,0x70,0x00,0x01,0xC0,0x03,0xF0,0x00,0x01,0xFF,0xFF,0xF0,
        0x00,0x01,0xFF,0xFF,0xF0,0x00,0x01,0xE0,0x00,0x70,0x00,0x01,0xC0,0x00,0x60,0x00,
        0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};



    unsigned char word2[]={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0x00,0x00,0x60,0x07,0x00,0x00,0x00,
        0x70,0x07,0x80,0x00,0x00,0x78,0x07,0x00,0x00,0x00,0x70,0x07,0x00,0x00,0x00,0xE0,
        0x07,0x00,0x00,0x00,0xE0,0x07,0x00,0x00,0x01,0xC0,0x07,0x00,0x00,0x01,0xC1,0x07,
                  0x06,0x00,0x03,0x8F,0x87,0x3F,0x00,0x03,0x1D,0xFF,0xFE,0x00,0x07,0x1D,0xFF,0xCE,
                  0x00,0x0E,0x3D,0xC6,0x0E,0x00,0x1F,0xF9,0xCE,0x0E,0x00,0x1F,0xF1,0xCE,0x0E,0x00,
                  0x0C,0x61,0xCE,0x0E,0x00,0x00,0xE1,0xCF,0x8E,0x00,0x01,0xC1,0xDF,0xCE,0x00,0x01,
                  0x81,0xDD,0xEE,0x00,0x03,0xBF,0xD8,0xFE,0x00,0x0F,0xF1,0xF8,0x7E,0x00,0x0F,0x81,
                  0xF0,0x6E,0x00,0x04,0x01,0xE0,0x0E,0x00,0x00,0x1F,0xC0,0x0E,0x00,0x00,0x7D,0xC0,
                  0x0E,0x00,0x01,0xF1,0xC0,0x0E,0x00,0x07,0xC1,0xC0,0x0C,0x00,0x1F,0x01,0xC1,0xCC,
                  0x00,0x1E,0x01,0xC0,0xFC,0x00,0x00,0x03,0xC0,0x7C,0x00,0x00,0x01,0xC0,0x3C,0x00,
                  0x00,0x01,0xC0,0x1C,0x00,0x00,0x00,0x80,0x08,0x00,0x00,0x00,0x00,0x00,0x00};

                      ;
    unsigned char word[]={0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x00,0x00,0x00,0x00,0x70,0x00,0x00,0x00,0x00,
        0x70,0x00,0x00,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0x70,0x40,0x00,0x00,0x00,0x70,
        0x60,0x1C,0x00,0x00,0x60,0x7F,0xFE,0x00,0x00,0xE0,0x7F,0xFC,0x00,0x00,0xEC,0x78,
        0x1C,0x00,0x00,0xE6,0x70,0x1C,0x00,0x00,0xC7,0x70,0x1C,0x00,0x01,0xFE,0x70,0x1C,
        0x00,0x3F,0xFE,0x70,0x18,0x00,0x1F,0xCE,0x71,0xD8,0x00,0x01,0x8E,0x7F,0xF8,0x00,
        0x03,0x8E,0x7F,0xB8,0x00,0x03,0x8C,0x70,0x38,0x00,0x03,0x9C,0x70,0x38,0x00,0x07,
        0x1C,0x70,0x38,0x00,0x07,0x1C,0x70,0x38,0x00,0x07,0xB8,0x70,0x38,0x00,0x03,0xF8,
        0x7F,0xF8,0x00,0x00,0xF8,0x7F,0xFC,0x00,0x00,0x7E,0x7E,0x00,0x00,0x00,0x7F,0x30,
        0x00,0x00,0x00,0xEF,0x00,0x00,0x00,0x01,0xC3,0x00,0x00,0x00,0x03,0x80,0x00,0x1F,
        0x00,0x07,0x0F,0xFF,0xFF,0x80,0x0E,0x0F,0xFF,0xE0,0x00,0x1C,0x07,0x00,0x00,0x00,
        0x38,0x00,0x00,0x00,0x00,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
    
    drow_word(0,0,word2,40/8,35,red);
    drow_word(0,65,word3,40/8,35,red);
    drow_word(0,130,word,40/8,35,red);
#endif
    display_show_utf8_str(&utf8_info,0,0,"纳",red,black);
    display_show_utf8_str(&utf8_info,0,65,"西",red,black);
    display_show_utf8_str(&utf8_info,0,130,"妲",red,black);

    sleep(2);
    goto my_progream;
    return 0;
}






